---
import SubscribeToNewsletter from "./SubscribeToNewsletter.astro";
---

<dialog id="subscribe-modal" class="h-screen w-screen hidden  items-center justify-center bg-transparent">
    <div class="container w-3/4 bg-white p-32 rounded-xl text-black text-center">
        <h2 class="font-bold text-xl text-center">Join the Riffs. Code. Community. Today!</h2>
        <p class="text-center text-xl font-extralight pb-4">Riffs. Code. Coffee. is a weekly tech newsletter geared towards creatives.</p>
        <SubscribeToNewsletter />
        <button id="close-button" class="btn btn-ghost mt-8">No Thanks</button>
    </div>
</dialog>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const modal = document.getElementById("subscribe-modal");
        const openButton = document.getElementById("subscribe-button"); // Button in nav component
        const closeButton = document.getElementById("close-button");

        if (openButton) {
            openButton.addEventListener("click", () => {
                modal?.showModal();
                modal?.classList.replace("hidden", "flex");
            });
        }

        if (closeButton) {
            closeButton.addEventListener("click", () => {
                modal?.close();
                modal?.classList.replace("flex", "hidden");
            });
        }
    });
</script>