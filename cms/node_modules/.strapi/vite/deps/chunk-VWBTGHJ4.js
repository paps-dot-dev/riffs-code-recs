import {
  intervalToDuration,
  isPast
} from "./chunk-PGI5Y7U7.js";
import {
  useIntl
} from "./chunk-YOH64ARV.js";
import {
  require_jsx_runtime
} from "./chunk-7UPSCK2M.js";
import {
  require_react
} from "./chunk-KUWPP3IT.js";
import {
  __toESM
} from "./chunk-WGAPYIUP.js";

// node_modules/.pnpm/@strapi+admin@5.9.0_@babel+runtime@7.26.7_@codemirror+autocomplete@6.18.4_@codemirror+languag_aezpjvp2mjsnwk5ooh22wkyeeu/node_modules/@strapi/admin/dist/admin/RelativeTime-BGJ1PWx_.mjs
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
var React = __toESM(require_react(), 1);
var intervals = ["years", "months", "days", "hours", "minutes", "seconds"];
var RelativeTime = React.forwardRef(
  ({ timestamp, customIntervals = [], ...restProps }, forwardedRef) => {
    const { formatRelativeTime, formatDate, formatTime } = useIntl();
    const interval = intervalToDuration({
      start: timestamp,
      end: Date.now()
      // see https://github.com/date-fns/date-fns/issues/2891 â€“ No idea why it's all partial it returns it every time.
    });
    const unit = intervals.find((intervalUnit) => {
      return interval[intervalUnit] > 0 && Object.keys(interval).includes(intervalUnit);
    });
    const relativeTime = isPast(timestamp) ? -interval[unit] : interval[unit];
    const customInterval = customIntervals.find(
      (custom) => interval[custom.unit] < custom.threshold
    );
    const displayText = customInterval ? customInterval.text : formatRelativeTime(relativeTime, unit, { numeric: "auto" });
    return (0, import_jsx_runtime.jsx)(
      "time",
      {
        ref: forwardedRef,
        dateTime: timestamp.toISOString(),
        role: "time",
        title: `${formatDate(timestamp)} ${formatTime(timestamp)}`,
        ...restProps,
        children: displayText
      }
    );
  }
);

export {
  RelativeTime
};
//# sourceMappingURL=chunk-VWBTGHJ4.js.map
